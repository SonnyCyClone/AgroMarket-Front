# ü§ù Gu√≠a de Contribuci√≥n - AgroMarket

¬°Gracias por tu inter√©s en contribuir a AgroMarket! Esta gu√≠a te ayudar√° a entender c√≥mo contribuir efectivamente al proyecto.

## üìã Tabla de Contenidos

1. [C√≥digo de Conducta](#c√≥digo-de-conducta)
2. [C√≥mo Contribuir](#c√≥mo-contribuir)
3. [Configuraci√≥n del Entorno](#configuraci√≥n-del-entorno)
4. [Workflow de Desarrollo](#workflow-de-desarrollo)
5. [Est√°ndares de C√≥digo](#est√°ndares-de-c√≥digo)
6. [Testing](#testing)
7. [Documentaci√≥n](#documentaci√≥n)
8. [Pull Requests](#pull-requests)

## üìú C√≥digo de Conducta

Este proyecto sigue el [Contributor Covenant](https://www.contributor-covenant.org/) Code of Conduct. Al participar, te comprometes a mantener un ambiente respetuoso y colaborativo.

### Comportamientos Esperados:
- ‚úÖ Usar lenguaje inclusivo y respetuoso
- ‚úÖ Respetar diferentes puntos de vista y experiencias
- ‚úÖ Aceptar cr√≠ticas constructivas
- ‚úÖ Enfocarse en lo que es mejor para la comunidad
- ‚úÖ Mostrar empat√≠a hacia otros miembros

### Comportamientos No Tolerados:
- ‚ùå Lenguaje o im√°genes sexualizadas
- ‚ùå Comentarios despectivos, insultos o ataques personales
- ‚ùå Acoso p√∫blico o privado
- ‚ùå Publicar informaci√≥n privada sin consentimiento
- ‚ùå Cualquier conducta inapropiada en un entorno profesional

## üöÄ C√≥mo Contribuir

### Tipos de Contribuciones

1. **üêõ Reportar Bugs**
   - Usa el template de issue para bugs
   - Incluye pasos para reproducir
   - Proporciona informaci√≥n del sistema

2. **‚ú® Sugerir Features**
   - Usa el template de feature request
   - Explica el caso de uso
   - Proporciona ejemplos o mockups

3. **üìö Mejorar Documentaci√≥n**
   - Corregir typos
   - Actualizar informaci√≥n obsoleta
   - Agregar ejemplos o clarificaciones

4. **üíª Contribuir C√≥digo**
   - Bug fixes
   - Nuevas features
   - Optimizaciones de performance
   - Refactoring

## ‚öôÔ∏è Configuraci√≥n del Entorno

### Prerrequisitos
```bash
Node.js >= 18.x
npm >= 9.x
Git >= 2.30
Angular CLI >= 18.x
```

### Configuraci√≥n Inicial
```bash
# 1. Fork el repositorio en GitHub
# 2. Clonar tu fork
git clone https://github.com/tu-usuario/AgroMarket-Front.git
cd AgroMarket-Front

# 3. Agregar upstream remote
git remote add upstream https://github.com/SonnyCyClone/AgroMarket-Front.git

# 4. Instalar dependencias
npm install

# 5. Crear archivo de configuraci√≥n
cp src/environments/environment.ts.example src/environments/environment.ts

# 6. Ejecutar aplicaci√≥n
npm start
```

### Configuraci√≥n de Tools
```bash
# Instalar herramientas de desarrollo
npm install -g @angular/cli
npm install -g typescript
npm install -g eslint
npm install -g prettier

# Configurar Git hooks (opcional pero recomendado)
npm run prepare
```

## üîÑ Workflow de Desarrollo

### 1. Sincronizar con Upstream
```bash
git checkout develop
git fetch upstream
git merge upstream/develop
git push origin develop
```

### 2. Crear Feature Branch
```bash
# Usar naming convention: type/description
git checkout -b feat/product-preview-modal
git checkout -b fix/cart-calculation-bug
git checkout -b docs/update-readme
```

### 3. Hacer Cambios
```bash
# Hacer commits frecuentes con mensajes descriptivos
git add .
git commit -m "feat: add product preview modal component"
```

### 4. Push y PR
```bash
git push origin feat/product-preview-modal
# Crear Pull Request en GitHub
```

## üìù Est√°ndares de C√≥digo

### TypeScript Guidelines

#### Naming Conventions
```typescript
// Classes, Interfaces, Types - PascalCase
class ProductService { }
interface User { }
type ProductType = 'ORGANIC' | 'CONVENTIONAL';

// Variables, Functions - camelCase
const userName = 'john';
function calculateTotal() { }

// Constants - SCREAMING_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com';

// Files - kebab-case
product-card.component.ts
user-auth.service.ts
```

#### Code Structure
```typescript
/**
 * Service for managing products
 * 
 * @description Handles CRUD operations for products
 * and provides caching functionality
 */
@Injectable({
  providedIn: 'root'
})
export class ProductService {
  // 1. Public properties
  readonly products = signal<Product[]>([]);
  
  // 2. Private properties
  private http = inject(HttpClient);
  
  // 3. Constructor
  constructor() { }
  
  // 4. Public methods
  getProducts(): Observable<Product[]> {
    return this.http.get<Product[]>('/api/products');
  }
  
  // 5. Private methods
  private validateProduct(product: Product): boolean {
    return !!product.name && !!product.price;
  }
}
```

### Angular Best Practices

#### Components
```typescript
@Component({
  selector: 'app-product-card',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './product-card.component.html',
  styleUrl: './product-card.component.css',
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class ProductCardComponent {
  // Usar input() y output() functions
  product = input.required<Product>();
  readonly canEdit = input(false);
  
  productClick = output<Product>();
  
  // Usar signals para estado local
  isLoading = signal(false);
  
  // Usar computed para valores derivados
  displayPrice = computed(() => 
    this.formatPrice(this.product().price)
  );
}
```

#### Templates
```html
<!-- Usar control flow nativo -->
@if (isLoading()) {
  <div class="loading">Cargando...</div>
}

@for (product of products(); track product.id) {
  <app-product-card [product]="product" />
}

<!-- Usar class y style bindings en lugar de ngClass/ngStyle -->
<div 
  [class.active]="isActive()"
  [style.color]="textColor()"
>
  Content
</div>
```

### CSS Guidelines

#### Architecture
```scss
// 1. Variables
:root {
  --primary-color: #28a745;
  --secondary-color: #6c757d;
  --border-radius: 8px;
}

// 2. Component styles
.product-card {
  // Layout
  display: flex;
  flex-direction: column;
  
  // Visual
  background: white;
  border-radius: var(--border-radius);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  
  // Interaction
  transition: transform 0.2s ease;
  
  &:hover {
    transform: translateY(-2px);
  }
  
  // Responsive
  @media (max-width: 768px) {
    flex-direction: row;
  }
}
```

#### BEM Methodology
```scss
// Block
.product-card { }

// Element
.product-card__image { }
.product-card__title { }
.product-card__price { }

// Modifier
.product-card--featured { }
.product-card--sold-out { }
```

## üß™ Testing

### Configuraci√≥n de Tests
```bash
# Ejecutar tests
npm test                    # Watch mode
npm run test:ci            # Single run
npm run test:coverage      # Con coverage

# E2E tests
npm run e2e
```

### Unit Tests
```typescript
describe('ProductService', () => {
  let service: ProductService;
  let httpMock: HttpTestingController;

  beforeEach(() => {
    TestBed.configureTestingModule({
      imports: [HttpClientTestingModule],
      providers: [ProductService]
    });
    
    service = TestBed.inject(ProductService);
    httpMock = TestBed.inject(HttpTestingController);
  });

  it('should fetch products', () => {
    const mockProducts: Product[] = [
      { id: 1, name: 'Test Product', price: 100 }
    ];

    service.getProducts().subscribe(products => {
      expect(products).toEqual(mockProducts);
    });

    const req = httpMock.expectOne('/api/products');
    expect(req.request.method).toBe('GET');
    req.flush(mockProducts);
  });

  afterEach(() => {
    httpMock.verify();
  });
});
```

### Component Tests
```typescript
describe('ProductCardComponent', () => {
  let component: ProductCardComponent;
  let fixture: ComponentFixture<ProductCardComponent>;

  beforeEach(() => {
    TestBed.configureTestingModule({
      imports: [ProductCardComponent]
    });
    
    fixture = TestBed.createComponent(ProductCardComponent);
    component = fixture.componentInstance;
  });

  it('should display product name', () => {
    const product = { id: 1, name: 'Test Product', price: 100 };
    fixture.componentRef.setInput('product', product);
    fixture.detectChanges();

    const nameElement = fixture.nativeElement.querySelector('.product-name');
    expect(nameElement.textContent).toContain('Test Product');
  });
});
```

### Coverage Requirements
- **Statements**: ‚â• 80%
- **Branches**: ‚â• 75%
- **Functions**: ‚â• 80%
- **Lines**: ‚â• 80%

## üìö Documentaci√≥n

### JSDoc Comments
```typescript
/**
 * Calculates the total price including taxes
 * 
 * @param basePrice - The base price before taxes
 * @param taxRate - Tax rate as decimal (e.g., 0.19 for 19%)
 * @returns The total price including taxes
 * 
 * @example
 * ```typescript
 * const total = calculateTotal(100, 0.19);
 * console.log(total); // 119
 * ```
 */
function calculateTotal(basePrice: number, taxRate: number): number {
  return basePrice * (1 + taxRate);
}
```

### README Updates
- Mantener la documentaci√≥n actualizada
- Incluir ejemplos de uso
- Documentar breaking changes
- Actualizar screenshots si es necesario

## üîç Pull Requests

### Checklist antes de crear PR
- [ ] ‚úÖ C√≥digo sigue las convenciones del proyecto
- [ ] ‚úÖ Tests pasan (`npm test`)
- [ ] ‚úÖ Linting pasa (`npm run lint`)
- [ ] ‚úÖ Build de producci√≥n funciona (`npm run build`)
- [ ] ‚úÖ Documentaci√≥n actualizada
- [ ] ‚úÖ No hay conflictos con develop
- [ ] ‚úÖ Commits siguen conventional commits

### Template de PR
```markdown
## üìù Descripci√≥n
Breve descripci√≥n de los cambios realizados.

## üîó Issue Relacionado
Fixes #123

## üß™ Testing
- [ ] Unit tests a√±adidos/actualizados
- [ ] E2E tests pasan
- [ ] Testing manual realizado

## üì∏ Screenshots (si aplica)
Antes / Despu√©s

## ‚ö†Ô∏è Breaking Changes
Describir cualquier breaking change.

## üìã Checklist
- [ ] C√≥digo sigue las convenciones
- [ ] Tests pasan
- [ ] Documentaci√≥n actualizada
- [ ] Self-review completado
```

### Review Process
1. **Automated Checks**: CI/CD debe pasar
2. **Code Review**: Al menos 1 aprobaci√≥n requerida
3. **Testing**: QA team valida funcionalidad
4. **Merge**: Squash merge a develop

## üè∑Ô∏è Versionado y Releases

### Semantic Versioning
- **MAJOR**: Breaking changes
- **MINOR**: New features (backwards compatible)
- **PATCH**: Bug fixes

### Conventional Commits
```bash
feat: nueva funcionalidad
fix: correcci√≥n de bug
docs: cambios en documentaci√≥n
style: formateo, no cambia funcionalidad
refactor: refactoring sin cambios funcionales
test: a√±adir o corregir tests
chore: cambios en build, deps, etc.
```

### Release Process
1. **Feature Freeze** en develop
2. **Release Candidate** testing
3. **Tag Release** con version number
4. **Deploy** a producci√≥n
5. **Post-release** monitoring

## üÜò Obteniendo Ayuda

### Canales de Comunicaci√≥n
- **üêõ Issues**: Para bugs y feature requests
- **üí¨ Discussions**: Para preguntas generales
- **üìß Email**: soporte@agromarket.com
- **üíº LinkedIn**: [AgroMarket Team](https://linkedin.com/company/agromarket)

### FAQ

**Q: ¬øC√≥mo ejecuto la aplicaci√≥n localmente?**
A: Ejecuta `npm install` y luego `npm start`. La app estar√° disponible en http://localhost:4200

**Q: ¬øQu√© hacer si los tests fallan?**
A: Primero ejecuta `npm test` para ver los detalles del error. Si necesitas ayuda, crea un issue.

**Q: ¬øC√≥mo actualizo las dependencias?**
A: Usa `npm update` para updates menores. Para major updates, crea un PR separado.

**Q: ¬øPuedo trabajar en m√∫ltiples features simult√°neamente?**
A: S√≠, pero usa branches separados para cada feature.

## üéâ Reconocimientos

### Contributors
Lista de contribuidores ser√° mantenida autom√°ticamente.

### Hall of Fame
Reconocimiento especial para contribuidores destacados.

---

**¬°Gracias por contribuir a AgroMarket! üåæ**

*Tu contribuci√≥n ayuda a conectar el campo colombiano con la tecnolog√≠a moderna.*